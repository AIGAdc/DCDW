<!-- dcdw agenda filter -->
<div class="dcdw-agenda-filters fl w-100 w-20-l pa0 pr3-l relative">
  <!-- filter days -->
  <h6 class="ma0 mb2 f6 fw9 ttu black-40">Days:</h6>
  <ul class="dcdw-agenda-filters ma0 pa0 list">
    <li class="db ma0 pa0"><a class="filter-button f6 fw4 link" data-filter="*">All</a></li>
    <li class="db ma0 pa0"><a class="filter-button f6 fw4 link" data-filter=".{{ page.day-1 }}">{{ page.day-1-label }}</a></li>
    <li class="db ma0 pa0"><a class="filter-button f6 fw4 link" data-filter=".{{ page.day-2 }}">{{ page.day-2-label }}</a></li>
    <li class="db ma0 pa0"><a class="filter-button f6 fw4 link" data-filter=".{{ page.day-3 }}">{{ page.day-3-label }}</a></li>
    <li class="db ma0 pa0"><a class="filter-button f6 fw4 link" data-filter=".{{ page.day-4 }}">{{ page.day-4-label }}</a></li>
    <li class="db ma0 pa0"><a class="filter-button f6 fw4 link" data-filter=".{{ page.day-5 }}">{{ page.day-5-label }}</a></li>
    <li class="db ma0 pa0"><a class="filter-button f6 fw4 link" data-filter=".{{ page.day-6 }}">{{ page.day-6-label }}</a></li>
    <li class="db ma0 pa0"><a class="filter-button f6 fw4 link" data-filter=".{{ page.day-7 }}">{{ page.day-7-label }}</a></li>
    <li class="db ma0 pa0"><a class="filter-button f6 fw4 link" data-filter=".{{ page.day-8 }}">{{ page.day-8-label }}</a></li>
  </ul>
</div>

<!-- dcdw agenda list -->
<div class="dcdw-agenda-list fl w-100 w-80-l pa0 pl3-l relative">
  <!-- event message -->
  <div id="dcdw-agenda-empty" style="display:none">
    There are no events matching these filters
  </div>

  <div class="day fl w-100 mb5">
    <h2 class="dcdw-event-day ma0 f2 fw9">{{ page.day-1-label }}</h2>
    {% for posts in site.events %}
      {% if posts.is-kickoff-friday == true %}
        <ul class="dcdw-event-list ma0 pa0 list">
          {% if posts.is-featured-on-events-page == true %}
            <a class="fl w-100 relative pa3 link dcdw-event {{ page.day-1 }}" href="{{posts.url}}" data-right-height-content>
          {% else %}
            <a class="fl w-100 w-50-l relative pa3 link dcdw-event {{ page.day-1 }}" href="{{posts.url}}" data-right-height-content>
          {% endif %}
            <li class="event-card ma0 pa0 ba bw2 dcdw-orange bg-white">
              {% include partials/events/events-card-contents.html %}
            </li>
          </a>
        </ul>
      {% endif %}
    {% endfor %}
  </div>

  <div class="day fl w-100 mb5">
    <h2 class="dcdw-event-day ma0 f2 fw9">{{ page.day-2-label }}</h2>
    {% for posts in site.events %}
      {% if posts.is-sunday == true %}
      <ul class="dcdw-event-list ma0 pa0 list">
        {% if posts.is-featured-on-events-page == true %}
          <a class="fl w-100 relative pa3 link dcdw-event {{ page.day-2 }}" href="{{posts.url}}" data-right-height-content>
        {% else %}
          <a class="fl w-100 w-50-l relative pa3 link dcdw-event {{ page.day-2 }}" href="{{posts.url}}" data-right-height-content>
        {% endif %}
          <li class="event-card ma0 pa0 ba bw2 dcdw-orange bg-white">
            {% include partials/events/events-card-contents.html %}
          </li>
        </a>
      </ul>
      {% endif %}
    {% endfor %}
  </div>

  <div class="day fl w-100 mb5">
    <h2 class="dcdw-event-day ma0 f2 fw9">{{ page.day-3-label }}</h2>
    {% for posts in site.events %}
      {% if posts.is-monday == true %}
        <ul class="dcdw-event-list ma0 pa0 list">
          {% if posts.is-featured-on-events-page == true %}
            <a class="fl w-100 relative pa3 link dcdw-event {{ page.day-3 }}" href="{{posts.url}}" data-right-height-content>
          {% else %}
            <a class="fl w-100 w-50-l relative pa3 link dcdw-event {{ page.day-3 }}" href="{{posts.url}}" data-right-height-content>
          {% endif %}
            <li class="event-card ma0 pa0 ba bw2 dcdw-orange bg-white">
              {% include partials/events/events-card-contents.html %}
            </li>
          </a>
        </ul>
      {% endif %}
    {% endfor %}
  </div>

  <div class="day fl w-100 mb5">
    <h2 class="dcdw-event-day ma0 f2 fw9">{{ page.day-4-label }}</h2>
    {% for posts in site.events %}
      {% if posts.is-tuesday == true %}
        <ul class="dcdw-event-list ma0 pa0 list">
          {% if posts.is-featured-on-events-page == true %}
            <a class="fl w-100 relative pa3 link dcdw-event {{ page.day-4 }}" href="{{posts.url}}" data-right-height-content>
          {% else %}
            <a class="fl w-100 w-50-l relative pa3 link dcdw-event {{ page.day-4 }}" href="{{posts.url}}" data-right-height-content>
          {% endif %}
            <li class="event-card ma0 pa0 ba bw2 dcdw-orange bg-white">
              {% include partials/events/events-card-contents.html %}
            </li>
          </a>
        </ul>
      {% endif %}
    {% endfor %}
  </div>

  <div class="day fl w-100 mb5">
    <h2 class="dcdw-event-day ma0 f2 fw9">{{ page.day-5-label }}</h2>
    {% for posts in site.events %}
      {% if posts.is-wednesday == true %}
        <ul class="dcdw-event-list ma0 pa0 list">
          {% if posts.is-featured-on-events-page == true %}
            <a class="fl w-100 relative pa3 link dcdw-event {{ page.day-5 }}" href="{{posts.url}}" data-right-height-content>
          {% else %}
            <a class="fl w-100 w-50-l relative pa3 link dcdw-event {{ page.day-5 }}" href="{{posts.url}}" data-right-height-content>
          {% endif %}
            <li class="event-card ma0 pa0 ba bw2 dcdw-orange bg-white">
              {% include partials/events/events-card-contents.html %}
            </li>
          </a>
        </ul>
      {% endif %}
    {% endfor %}
  </div>

  <div class="day fl w-100 mb5">
    <h2 class="dcdw-event-day ma0 f2 fw9">{{ page.day-6-label }}</h2>
    {% for posts in site.events %}
      {% if posts.is-thursday == true %}
        <ul class="dcdw-event-list ma0 pa0 list">
          {% if posts.is-featured-on-events-page == true %}
            <a class="fl w-100 relative pa3 link dcdw-event {{ page.day-6 }}" href="{{posts.url}}" data-right-height-content>
          {% else %}
            <a class="fl w-100 w-50-l relative pa3 link dcdw-event {{ page.day-6 }}" href="{{posts.url}}" data-right-height-content>
          {% endif %}
            <li class="event-card ma0 pa0 ba bw2 dcdw-orange bg-white">
              {% include partials/events/events-card-contents.html %}
            </li>
          </a>
        </ul>
      {% endif %}
    {% endfor %}
  </div>

  <div class="day fl w-100 mb5">
    <h2 class="dcdw-event-day ma0 f2 fw9">{{ page.day-7-label }}</h2>
    {% for posts in site.events %}
      {% if posts.is-friday == true %}
        <ul class="dcdw-event-list ma0 pa0 list">
          {% if posts.is-featured-on-events-page == true %}
            <a class="fl w-100 relative pa3 link dcdw-event {{ page.day-7 }}" href="{{posts.url}}" data-right-height-content>
          {% else %}
            <a class="fl w-100 w-50-l relative pa3 link dcdw-event {{ page.day-7 }}" href="{{posts.url}}" data-right-height-content>
          {% endif %}
            <li class="event-card ma0 pa0 ba bw2 dcdw-orange bg-white">
              {% include partials/events/events-card-contents.html %}
            </li>
          </a>
        </ul>
      {% endif %}
    {% endfor %}
  </div>

  <div class="day fl w-100 mb5">
    <h2 class="dcdw-event-day ma0 f2 fw9">{{ page.day-8-label }}</h2>
    {% for posts in site.events %}
      {% if posts.is-saturday == true %}
        <ul class="dcdw-event-list ma0 pa0 list">
          {% if posts.is-featured-on-events-page == true %}
            <a class="fl w-100 relative pa3 link dcdw-event {{ page.day-8 }}" href="{{posts.url}}" data-right-height-content>
          {% else %}
            <a class="fl w-100 w-50-l relative pa3 link dcdw-event {{ page.day-8 }}" href="{{posts.url}}" data-right-height-content>
          {% endif %}
            <li class="event-card ma0 pa0 ba bw2 dcdw-orange bg-white">
              {% include partials/events/events-card-contents.html %}
            </li>
          </a>
        </ul>
      {% endif %}
    {% endfor %}
  </div>
</div>

<!-- filter script -->
<script type="text/javascript">
  var filterAgenda = function () {
    // Show all days
    $('.day').show();

    // Show all events
    var events = $('.dcdw-event').show();

    // For every filter groupd, we want to hide events
    // not matching one of the selected filter values
    $('ul.dcdw-agenda-filters').each(function () {
      var filter = $(this).find('.is-checked')
        .map(function () {
          return $(this).data('filter');
        })
        .toArray()
        .join(',');
      if (filter != '') events.not(filter).hide();
    });

    // Hide any days that have no visible events
    $('.day').each(function () {
      if ($(this).find('.dcdw-event:visible').length == 0) $(this).hide();
    });

    $('#dcdw-agenda-empty').hide();
    if ($('.day:visible').length == 0) $('#dcdw-agenda-empty').show();
  };

  $('ul.dcdw-agenda-filters').on('click', 'a', function (event) {
    event.preventDefault();

    $(this).toggleClass('is-checked');

    // reset the filter for this group when clicking 'All'
    if ($(this).data('filter') == '*') {
      $(this).closest('ul').find('.is-checked').removeClass('is-checked');
    }

    filterAgenda();
  });
</script>